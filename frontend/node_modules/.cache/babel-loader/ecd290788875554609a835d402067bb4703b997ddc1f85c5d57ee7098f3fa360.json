{"ast":null,"code":"import _objectSpread from\"D:/pipeline_v2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import{Box,Grid,Typography,CircularProgress,FormControl,InputLabel,Select,MenuItem,Paper,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Card,CardContent,OutlinedInput,Chip,Stack}from\"@mui/material\";import{PieChart,Pie,Cell,Tooltip,BarChart,Bar,XAxis,YAxis,ResponsiveContainer}from\"recharts\";import{BACKEND_URL}from\"../utils/backend\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const COLORS=[\"#1976d2\",\"#43a047\",\"#fbc02d\",\"#e53935\",\"#8e24aa\",\"#00acc1\"];function TaggingKPIs(_ref){let{refresh}=_ref;const[reasonsData,setReasonsData]=useState([]);const[commentsData,setCommentsData]=useState([]);const[loading,setLoading]=useState(true);const[selectedPO,setSelectedPO]=useState(\"\");const[selectedReasons,setSelectedReasons]=useState([]);useEffect(()=>{async function fetchData(){setLoading(true);const listRes=await fetch(\"\".concat(BACKEND_URL,\"/results/filtered_po_reason_list.csv\"));const listText=await listRes.text();const commentsRes=await fetch(\"\".concat(BACKEND_URL,\"/results/filtered_po_reason_comments.csv\"));const commentsText=await commentsRes.text();// Parse CSVs\nconst parseCSV=csv=>{const[header,...rows]=csv.trim().split(/\\r?\\n/);const keys=header.split(\",\");return rows.map(row=>{const values=row.split(/,(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/).map(v=>v.replace(/^\"|\"$/g,\"\"));const obj={};keys.forEach((k,i)=>obj[k]=values[i]);return obj;});};const parsedReasons=parseCSV(listText);const parsedComments=parseCSV(commentsText);console.log('parsedReasons',parsedReasons);console.log('parsedComments',parsedComments);setReasonsData(parsedReasons);setCommentsData(parsedComments);setLoading(false);}fetchData();},[refresh]);if(loading)return/*#__PURE__*/_jsx(CircularProgress,{});// KPI: Total POs, Unique Reasons, Reason Distribution\nconst totalPOs=reasonsData.length;const reasonCounts={};reasonsData.forEach(row=>{if(row.list_of_reasons){row.list_of_reasons.split(\",\").forEach(r=>{const reason=r.trim();if(reason)reasonCounts[reason]=(reasonCounts[reason]||0)+1;});}});const reasonDist=Object.entries(reasonCounts).map((_ref2,i)=>{let[name,value]=_ref2;return{name,value};});// Trend: POs with multiple reasons\nconst multiReasonPOs=reasonsData.filter(row=>row.list_of_reasons&&row.list_of_reasons.split(\",\").length>1).length;// Top 5 reasons for pie/bar\nconst top5Reasons=reasonDist.slice().sort((a,b)=>b.value-a.value).slice(0,5);const mostFrequentReason=top5Reasons.length>0?top5Reasons[0].name:\"-\";// All unique reasons for slicer\nconst allReasons=Array.from(new Set(reasonDist.map(r=>r.name)));// PO slicer\nconst poOptions=Array.from(new Set(reasonsData.map(row=>row.PO_ID)));// Table filter logic\nlet filteredComments=commentsData;if(selectedPO)filteredComments=filteredComments.filter(row=>row.PO_ID===selectedPO);if(selectedReasons.length>0)filteredComments=filteredComments.filter(row=>selectedReasons.includes(row.reason));return/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Card,{sx:{mb:2,boxShadow:'0 4px 15px rgba(0,0,0,0.08)',borderRadius:'12px',background:'linear-gradient(to right, #ffffff, #fafafa)'},children:/*#__PURE__*/_jsxs(CardContent,{sx:{py:3},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(Box,{sx:{width:'5px',height:'24px',backgroundColor:'#1976d2',borderRadius:'3px',mr:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",fontWeight:\"bold\",children:\"Risk Analysis Intelligence Dashboard\"})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6,md:3,children:/*#__PURE__*/_jsxs(Box,{sx:{p:2,bgcolor:'rgba(25,118,210,0.05)',borderRadius:'10px',border:'1px solid rgba(25,118,210,0.2)',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Flagged Transactions\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"primary\",fontWeight:\"bold\",sx:{my:1},children:totalPOs}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:\"Identified by AI risk detection\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,md:3,children:/*#__PURE__*/_jsxs(Box,{sx:{p:2,bgcolor:'rgba(156,39,176,0.05)',borderRadius:'10px',border:'1px solid rgba(156,39,176,0.2)',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Multi-Risk Transactions\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"secondary\",fontWeight:\"bold\",sx:{my:1},children:multiReasonPOs}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"text.secondary\",children:[(multiReasonPOs/totalPOs*100).toFixed(1),\"% with multiple flags\"]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,md:3,children:/*#__PURE__*/_jsxs(Box,{sx:{p:2,bgcolor:'rgba(76,175,80,0.05)',borderRadius:'10px',border:'1px solid rgba(76,175,80,0.2)',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Average Risks per PO\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"success.main\",fontWeight:\"bold\",sx:{my:1},children:(reasonDist.reduce((sum,reason)=>sum+reason.value,0)/Math.max(1,totalPOs)).toFixed(1)}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:\"Risk flags per transaction\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,md:3,children:/*#__PURE__*/_jsxs(Box,{sx:{p:2,bgcolor:'rgba(255,152,0,0.05)',borderRadius:'10px',border:'1px solid rgba(255,152,0,0.2)',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Primary Risk Factor\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"warning.main\",fontWeight:\"bold\",sx:{my:1},children:mostFrequentReason}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:top5Reasons.length>0?\"\".concat(top5Reasons[0].value,\" occurrences (\").concat((top5Reasons[0].value/totalPOs*100).toFixed(1),\"%)\"):'No data'})]})})]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,sx:{mb:2},children:[/*#__PURE__*/_jsx(InputLabel,{id:\"po-select-label\",children:\"PO ID\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"po-select-label\",value:selectedPO,label:\"PO ID\",onChange:e=>setSelectedPO(e.target.value),displayEmpty:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"All\"}),poOptions.map(po=>/*#__PURE__*/_jsx(MenuItem,{value:po,children:po},po))]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,sx:{mb:2},children:[/*#__PURE__*/_jsx(InputLabel,{id:\"reason-select-label\",children:\"Reason\"}),/*#__PURE__*/_jsx(Select,{labelId:\"reason-select-label\",multiple:true,value:selectedReasons,onChange:e=>setSelectedReasons(typeof e.target.value==='string'?e.target.value.split(','):e.target.value),input:/*#__PURE__*/_jsx(OutlinedInput,{label:\"Reason\"}),renderValue:selected=>/*#__PURE__*/_jsx(Stack,{direction:\"row\",spacing:1,flexWrap:\"wrap\",children:selected.map(value=>/*#__PURE__*/_jsx(Chip,{label:value},value))}),children:allReasons.map(reason=>/*#__PURE__*/_jsx(MenuItem,{value:reason,children:reason},reason))})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(Card,{sx:{mb:2,display:'flex',flexDirection:'column',alignItems:'center',boxShadow:'0 4px 20px rgba(0,0,0,0.1)',borderRadius:'12px',background:'linear-gradient(to bottom, #ffffff, #f8f9fa)'},children:/*#__PURE__*/_jsxs(CardContent,{sx:{width:'100%'},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(Box,{sx:{width:'6px',height:'28px',backgroundColor:'#1976d2',borderRadius:'3px',mr:2,boxShadow:'0 2px 4px rgba(25,118,210,0.3)'}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",fontWeight:\"bold\",children:\"Top 5 Reasons\"}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:\"Distribution of risk categories across transactions\"})]})]}),/*#__PURE__*/_jsxs(Box,{sx:{width:'100%',height:320,display:'flex',position:'relative',justifyContent:'center',alignItems:'center'},children:[/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:top5Reasons.map(reason=>_objectSpread(_objectSpread({},reason),{},{// Add priority score based on occurrence frequency\npriorityScore:Math.round(reason.value/totalPOs*100),// Add risk complexity based on reason name length\ncomplexity:reason.name.length>15?'High':reason.name.length>10?'Medium':'Low'})),dataKey:\"value\",nameKey:\"name\",cx:\"50%\",cy:\"50%\",innerRadius:70,outerRadius:110,paddingAngle:2,label:_ref3=>{let{value}=_ref3;return value;},labelLine:true,children:top5Reasons.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[index%COLORS.length],stroke:\"#ffffff\",strokeWidth:2},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{formatter:(value,name,props)=>{const{priorityScore,complexity}=props.payload;return[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:'bold'},children:[value,\" occurrences\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Priority score: \",priorityScore,\"/100\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Complexity: \",complexity]})]})];}})]})}),/*#__PURE__*/_jsxs(Box,{sx:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',textAlign:'center',padding:'12px',borderRadius:'50%',width:'130px',height:'130px',display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center',backgroundColor:'rgba(255,255,255,0.95)',boxShadow:'0 0 20px rgba(0,0,0,0.15)',border:'3px solid rgba(25,118,210,0.1)',zIndex:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",sx:{mb:0},children:\"TOTAL RISKS\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",fontWeight:\"bold\",color:\"primary\",sx:{my:0.5},children:top5Reasons.reduce((sum,r)=>sum+r.value,0)}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"error.main\",children:\"Flagged Items\"})]})]}),/*#__PURE__*/_jsx(Box,{sx:{mt:1,display:'flex',flexWrap:'wrap',justifyContent:'center',padding:'12px',backgroundColor:'rgba(0,0,0,0.02)',borderRadius:'8px'},children:top5Reasons.map((entry,index)=>{const priorityScore=Math.round(entry.value/totalPOs*100);const complexity=entry.name.length>15?'High':entry.name.length>10?'Medium':'Low';return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'flex-start',mr:3,mb:1,minWidth:'120px'},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(Box,{sx:{width:12,height:12,bgcolor:COLORS[index%COLORS.length],borderRadius:'50%',mr:1,boxShadow:\"0 0 5px \".concat(COLORS[index%COLORS.length],\"80\")}}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontWeight:\"bold\",children:entry.name})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",sx:{ml:3},children:[/*#__PURE__*/_jsx(Box,{component:\"span\",fontWeight:\"bold\",children:entry.value}),\" occurrences\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",sx:{ml:3},children:[\"Priority: \",priorityScore>75?'High':priorityScore>50?'Medium':'Low']})]},entry.name);})})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(Card,{sx:{mb:2,boxShadow:'0 4px 20px rgba(0,0,0,0.1)',borderRadius:'12px',background:'linear-gradient(to bottom, #ffffff, #f8f9fa)'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(Box,{sx:{width:'6px',height:'28px',backgroundColor:'#e53935',borderRadius:'3px',mr:2,boxShadow:'0 2px 4px rgba(229,57,53,0.3)'}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",fontWeight:\"bold\",children:\"Reason Frequency (Bar)\"}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:\"Risk categories prioritized by occurrence\"})]})]}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:reasonDist.slice().sort((a,b)=>b.value-a.value).map(reason=>_objectSpread(_objectSpread({},reason),{},{frequency:reason.value,percentage:Math.round(reason.value/totalPOs*100),priorityLevel:reason.value>totalPOs*0.5?'High':reason.value>totalPOs*0.2?'Medium':'Low'})),layout:\"vertical\",margin:{left:150,right:40,top:20,bottom:20},children:[/*#__PURE__*/_jsx(XAxis,{type:\"number\",allowDecimals:false,tick:{fontWeight:'bold',fill:'#555'},label:{value:'Number of Occurrences',position:'insideBottom',offset:-10,fill:'#555'}}),/*#__PURE__*/_jsx(YAxis,{dataKey:\"name\",type:\"category\",tick:{fontWeight:'bold',fill:'#555',fontSize:13},width:150}),/*#__PURE__*/_jsx(Bar,{dataKey:\"value\",name:\"Occurrences\",barSize:24,radius:[0,4,4,0],label:{position:'right',formatter:value=>value,fill:'#333',fontSize:12},children:reasonDist.map((entry,index)=>{// Color based on priority - higher values are more vibrant\nlet baseColor;if(entry.value>totalPOs*0.5){baseColor='#e53935';// Red for high priority\n}else if(entry.value>totalPOs*0.2){baseColor='#ff9800';// Orange for medium priority  \n}else{baseColor='#4caf50';// Green for low priority\n}return/*#__PURE__*/_jsx(Cell,{fill:baseColor,stroke:\"#ffffff\",strokeWidth:1},\"cell-\".concat(index));})}),/*#__PURE__*/_jsx(Tooltip,{formatter:value=>[\"\".concat(value),'Occurrences'],labelFormatter:value=>\"Category: \".concat(value),cursor:{fill:'rgba(0,0,0,0.1)'},content:props=>{if(!props.active||!props.payload||!props.payload[0])return null;const data=props.payload[0].payload;return/*#__PURE__*/_jsxs(Box,{sx:{bgcolor:'#fff',p:1.5,border:'1px solid #ccc',borderRadius:'4px',boxShadow:'0 2px 5px rgba(0,0,0,0.15)'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",sx:{borderBottom:'1px solid #eee',pb:0.5,mb:1},children:data.name}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[/*#__PURE__*/_jsx(Box,{component:\"span\",fontWeight:\"bold\",children:\"Occurrences:\"}),\" \",data.value]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[/*#__PURE__*/_jsx(Box,{component:\"span\",fontWeight:\"bold\",children:\"Percentage:\"}),\" \",data.percentage,\"% of total\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{color:data.priorityLevel==='High'?'error.main':data.priorityLevel==='Medium'?'warning.main':'success.main'},children:[/*#__PURE__*/_jsx(Box,{component:\"span\",fontWeight:\"bold\",children:\"Priority:\"}),\" \",data.priorityLevel]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{mt:0.5,fontSize:'0.75rem',color:'text.disabled'},children:\"Click for detailed information\"})]});}})]})}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2,p:1.5,borderRadius:'8px',backgroundColor:'rgba(25,118,210,0.05)',border:'1px solid rgba(25,118,210,0.2)'},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle2\",color:\"primary.main\",children:[\"Total Risk Flags: \",reasonDist.reduce((sum,reason)=>sum+reason.value,0)]}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"text.secondary\",children:[\"Across \",reasonDist.length,\" distinct risk categories \\u2022 \",totalPOs,\" flagged purchase orders\"]})]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Card,{sx:{boxShadow:'0 4px 15px rgba(0,0,0,0.08)',borderRadius:'12px',overflow:'hidden'},children:/*#__PURE__*/_jsxs(CardContent,{sx:{pb:1},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(Box,{sx:{width:'5px',height:'24px',backgroundColor:'#1976d2',borderRadius:'3px',mr:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",fontWeight:\"bold\",children:\"PO-wise Reasons & Comments\"})]}),/*#__PURE__*/_jsx(TableContainer,{sx:{maxHeight:350,\"&::-webkit-scrollbar\":{width:8,height:8},\"&::-webkit-scrollbar-track\":{backgroundColor:\"#f1f1f1\",borderRadius:4},\"&::-webkit-scrollbar-thumb\":{backgroundColor:\"#c1c1c1\",borderRadius:4}},children:/*#__PURE__*/_jsxs(Table,{stickyHeader:true,children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{sx:{fontWeight:'bold',backgroundColor:'rgba(25,118,210,0.05)',width:'15%'},children:\"PO ID\"}),/*#__PURE__*/_jsx(TableCell,{sx:{fontWeight:'bold',backgroundColor:'rgba(25,118,210,0.05)',width:'25%'},children:\"Reason\"}),/*#__PURE__*/_jsx(TableCell,{sx:{fontWeight:'bold',backgroundColor:'rgba(25,118,210,0.05)',width:'60%'},children:\"Comments\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:filteredComments.length>0?filteredComments.map((row,idx)=>/*#__PURE__*/_jsxs(TableRow,{sx:{'&:nth-of-type(odd)':{backgroundColor:'rgba(0,0,0,0.02)'},'&:hover':{backgroundColor:'rgba(25,118,210,0.04)'}},children:[/*#__PURE__*/_jsx(TableCell,{sx:{borderBottom:'1px solid rgba(224, 224, 224, 0.5)'},children:row.PO_ID}),/*#__PURE__*/_jsx(TableCell,{sx:{borderBottom:'1px solid rgba(224, 224, 224, 0.5)',color:row.reason.includes('Missing')?'error.main':row.reason.includes('price')?'warning.main':'text.primary'},children:row.reason}),/*#__PURE__*/_jsx(TableCell,{sx:{borderBottom:'1px solid rgba(224, 224, 224, 0.5)'},children:row.comments})]},idx)):/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{colSpan:3,align:\"center\",sx:{py:3},children:/*#__PURE__*/_jsx(Typography,{color:\"text.secondary\",children:\"No records found matching your filters\"})})})})]})}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2,display:'flex',justifyContent:'flex-end',color:'text.secondary',fontSize:'0.75rem'},children:[\"Showing \",filteredComments.length,\" of \",commentsData.length,\" records\"]})]})})})]})});}export default TaggingKPIs;","map":{"version":3,"names":["React","useEffect","useState","Box","Grid","Typography","CircularProgress","FormControl","InputLabel","Select","MenuItem","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Card","CardContent","OutlinedInput","Chip","Stack","PieChart","Pie","Cell","Tooltip","BarChart","Bar","XAxis","YAxis","ResponsiveContainer","BACKEND_URL","jsx","_jsx","jsxs","_jsxs","COLORS","TaggingKPIs","_ref","refresh","reasonsData","setReasonsData","commentsData","setCommentsData","loading","setLoading","selectedPO","setSelectedPO","selectedReasons","setSelectedReasons","fetchData","listRes","fetch","concat","listText","text","commentsRes","commentsText","parseCSV","csv","header","rows","trim","split","keys","map","row","values","v","replace","obj","forEach","k","i","parsedReasons","parsedComments","console","log","totalPOs","length","reasonCounts","list_of_reasons","r","reason","reasonDist","Object","entries","_ref2","name","value","multiReasonPOs","filter","top5Reasons","slice","sort","a","b","mostFrequentReason","allReasons","Array","from","Set","poOptions","PO_ID","filteredComments","includes","children","container","spacing","item","xs","sx","mb","boxShadow","borderRadius","background","py","display","alignItems","width","height","backgroundColor","mr","variant","fontWeight","md","p","bgcolor","border","flexDirection","color","my","toFixed","reduce","sum","Math","max","fullWidth","id","labelId","label","onChange","e","target","displayEmpty","po","multiple","input","renderValue","selected","direction","flexWrap","position","justifyContent","data","_objectSpread","priorityScore","round","complexity","dataKey","nameKey","cx","cy","innerRadius","outerRadius","paddingAngle","_ref3","labelLine","entry","index","fill","stroke","strokeWidth","formatter","props","payload","style","top","left","transform","textAlign","padding","zIndex","mt","minWidth","ml","component","frequency","percentage","priorityLevel","layout","margin","right","bottom","type","allowDecimals","tick","offset","fontSize","barSize","radius","baseColor","labelFormatter","cursor","content","active","borderBottom","pb","overflow","maxHeight","stickyHeader","idx","comments","colSpan","align"],"sources":["D:/pipeline_v2/frontend/src/components/TaggingKPIs.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Box, Grid, Typography, CircularProgress, FormControl, InputLabel, Select, MenuItem, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Card, CardContent, OutlinedInput, Chip, Stack } from \"@mui/material\";\r\nimport { PieChart, Pie, Cell, Tooltip, BarChart, Bar, XAxis, YAxis, ResponsiveContainer } from \"recharts\";\r\nimport { BACKEND_URL } from \"../utils/backend\";\r\n\r\nconst COLORS = [\"#1976d2\", \"#43a047\", \"#fbc02d\", \"#e53935\", \"#8e24aa\", \"#00acc1\"];\r\n\r\nfunction TaggingKPIs({ refresh }) {\r\n  const [reasonsData, setReasonsData] = useState([]);\r\n  const [commentsData, setCommentsData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedPO, setSelectedPO] = useState(\"\");\r\n  const [selectedReasons, setSelectedReasons] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      setLoading(true);\r\n      const listRes = await fetch(`${BACKEND_URL}/results/filtered_po_reason_list.csv`);\r\n      const listText = await listRes.text();\r\n      const commentsRes = await fetch(`${BACKEND_URL}/results/filtered_po_reason_comments.csv`);\r\n      const commentsText = await commentsRes.text();\r\n      // Parse CSVs\r\n      const parseCSV = (csv) => {\r\n        const [header, ...rows] = csv.trim().split(/\\r?\\n/);\r\n        const keys = header.split(\",\");\r\n        return rows.map(row => {\r\n          const values = row.split(/,(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/).map(v => v.replace(/^\"|\"$/g, \"\"));\r\n          const obj = {};\r\n          keys.forEach((k, i) => obj[k] = values[i]);\r\n          return obj;\r\n        });\r\n      };\r\n  const parsedReasons = parseCSV(listText);\r\n  const parsedComments = parseCSV(commentsText);\r\n  console.log('parsedReasons', parsedReasons);\r\n  console.log('parsedComments', parsedComments);\r\n  setReasonsData(parsedReasons);\r\n  setCommentsData(parsedComments);\r\n      setLoading(false);\r\n    }\r\n    fetchData();\r\n  }, [refresh]);\r\n\r\n  if (loading) return <CircularProgress />;\r\n\r\n\r\n  // KPI: Total POs, Unique Reasons, Reason Distribution\r\n  const totalPOs = reasonsData.length;\r\n  const reasonCounts = {};\r\n  reasonsData.forEach((row) => {\r\n    if (row.list_of_reasons) {\r\n      row.list_of_reasons.split(\",\").forEach((r) => {\r\n        const reason = r.trim();\r\n        if (reason) reasonCounts[reason] = (reasonCounts[reason] || 0) + 1;\r\n      });\r\n    }\r\n  });\r\n  const reasonDist = Object.entries(reasonCounts).map(([name, value], i) => ({ name, value }));\r\n\r\n  // Trend: POs with multiple reasons\r\n  const multiReasonPOs = reasonsData.filter(row => row.list_of_reasons && row.list_of_reasons.split(\",\").length > 1).length;\r\n\r\n  // Top 5 reasons for pie/bar\r\n  const top5Reasons = reasonDist.slice().sort((a, b) => b.value - a.value).slice(0, 5);\r\n  const mostFrequentReason = top5Reasons.length > 0 ? top5Reasons[0].name : \"-\";\r\n\r\n  // All unique reasons for slicer\r\n  const allReasons = Array.from(new Set(reasonDist.map(r => r.name)));\r\n  // PO slicer\r\n  const poOptions = Array.from(new Set(reasonsData.map(row => row.PO_ID)));\r\n\r\n  // Table filter logic\r\n  let filteredComments = commentsData;\r\n  if (selectedPO) filteredComments = filteredComments.filter(row => row.PO_ID === selectedPO);\r\n  if (selectedReasons.length > 0) filteredComments = filteredComments.filter(row => selectedReasons.includes(row.reason));\r\n\r\n  return (\r\n    <Box>\r\n      <Grid container spacing={2}>\r\n        {/* Enhanced Risk KPI Row */}\r\n        <Grid item xs={12}>\r\n          <Card sx={{ \r\n            mb: 2, \r\n            boxShadow: '0 4px 15px rgba(0,0,0,0.08)', \r\n            borderRadius: '12px',\r\n            background: 'linear-gradient(to right, #ffffff, #fafafa)'\r\n          }}>\r\n            <CardContent sx={{ py: 3 }}>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n                <Box sx={{ \r\n                  width: '5px', \r\n                  height: '24px', \r\n                  backgroundColor: '#1976d2', \r\n                  borderRadius: '3px',\r\n                  mr: 2\r\n                }}/>\r\n                <Typography variant=\"h6\" fontWeight=\"bold\">Risk Analysis Intelligence Dashboard</Typography>\r\n              </Box>\r\n              \r\n              <Grid container spacing={3}>\r\n                <Grid item xs={6} md={3}>\r\n                  <Box sx={{ \r\n                    p: 2, \r\n                    bgcolor: 'rgba(25,118,210,0.05)', \r\n                    borderRadius: '10px', \r\n                    border: '1px solid rgba(25,118,210,0.2)',\r\n                    height: '100%',\r\n                    display: 'flex',\r\n                    flexDirection: 'column'\r\n                  }}>\r\n                    <Typography variant=\"subtitle2\" color=\"text.secondary\">Flagged Transactions</Typography>\r\n                    <Typography variant=\"h4\" color=\"primary\" fontWeight=\"bold\" sx={{ my: 1 }}>{totalPOs}</Typography>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                      Identified by AI risk detection\r\n                    </Typography>\r\n                  </Box>\r\n                </Grid>\r\n                <Grid item xs={6} md={3}>\r\n                  <Box sx={{ \r\n                    p: 2, \r\n                    bgcolor: 'rgba(156,39,176,0.05)', \r\n                    borderRadius: '10px', \r\n                    border: '1px solid rgba(156,39,176,0.2)',\r\n                    height: '100%',\r\n                    display: 'flex',\r\n                    flexDirection: 'column'\r\n                  }}>\r\n                    <Typography variant=\"subtitle2\" color=\"text.secondary\">Multi-Risk Transactions</Typography>\r\n                    <Typography variant=\"h4\" color=\"secondary\" fontWeight=\"bold\" sx={{ my: 1 }}>{multiReasonPOs}</Typography>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                      {((multiReasonPOs / totalPOs) * 100).toFixed(1)}% with multiple flags\r\n                    </Typography>\r\n                  </Box>\r\n                </Grid>\r\n                <Grid item xs={6} md={3}>\r\n                  <Box sx={{ \r\n                    p: 2, \r\n                    bgcolor: 'rgba(76,175,80,0.05)', \r\n                    borderRadius: '10px', \r\n                    border: '1px solid rgba(76,175,80,0.2)',\r\n                    height: '100%',\r\n                    display: 'flex',\r\n                    flexDirection: 'column'\r\n                  }}>\r\n                    <Typography variant=\"subtitle2\" color=\"text.secondary\">Average Risks per PO</Typography>\r\n                    <Typography variant=\"h4\" color=\"success.main\" fontWeight=\"bold\" sx={{ my: 1 }}>\r\n                      {(reasonDist.reduce((sum, reason) => sum + reason.value, 0) / Math.max(1, totalPOs)).toFixed(1)}\r\n                    </Typography>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                      Risk flags per transaction\r\n                    </Typography>\r\n                  </Box>\r\n                </Grid>\r\n                <Grid item xs={6} md={3}>\r\n                  <Box sx={{ \r\n                    p: 2, \r\n                    bgcolor: 'rgba(255,152,0,0.05)', \r\n                    borderRadius: '10px', \r\n                    border: '1px solid rgba(255,152,0,0.2)',\r\n                    height: '100%',\r\n                    display: 'flex',\r\n                    flexDirection: 'column'\r\n                  }}>\r\n                    <Typography variant=\"subtitle2\" color=\"text.secondary\">Primary Risk Factor</Typography>\r\n                    <Typography variant=\"h6\" color=\"warning.main\" fontWeight=\"bold\" sx={{ my: 1 }}>{mostFrequentReason}</Typography>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                      {top5Reasons.length > 0 ? \r\n                        `${top5Reasons[0].value} occurrences (${((top5Reasons[0].value / totalPOs) * 100).toFixed(1)}%)` : \r\n                        'No data'}\r\n                    </Typography>\r\n                  </Box>\r\n                </Grid>\r\n              </Grid>\r\n              \r\n              {/* Removed risk summary section */}\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        {/* Slicers */}\r\n        <Grid item xs={12} md={6}>\r\n          <FormControl fullWidth sx={{ mb: 2 }}>\r\n            <InputLabel id=\"po-select-label\">PO ID</InputLabel>\r\n            <Select\r\n              labelId=\"po-select-label\"\r\n              value={selectedPO}\r\n              label=\"PO ID\"\r\n              onChange={e => setSelectedPO(e.target.value)}\r\n              displayEmpty\r\n            >\r\n              <MenuItem value=\"\">All</MenuItem>\r\n              {poOptions.map(po => (\r\n                <MenuItem key={po} value={po}>{po}</MenuItem>\r\n              ))}\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n          <FormControl fullWidth sx={{ mb: 2 }}>\r\n            <InputLabel id=\"reason-select-label\">Reason</InputLabel>\r\n            <Select\r\n              labelId=\"reason-select-label\"\r\n              multiple\r\n              value={selectedReasons}\r\n              onChange={e => setSelectedReasons(typeof e.target.value === 'string' ? e.target.value.split(',') : e.target.value)}\r\n              input={<OutlinedInput label=\"Reason\" />}\r\n              renderValue={selected => (\r\n                <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\">\r\n                  {selected.map((value) => <Chip key={value} label={value} />)}\r\n                </Stack>\r\n              )}\r\n            >\r\n              {allReasons.map(reason => (\r\n                <MenuItem key={reason} value={reason}>{reason}</MenuItem>\r\n              ))}\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n        {/* Enhanced Pie Chart for Risk Distribution */}\r\n        <Grid item xs={12} md={6}>\r\n          <Card sx={{ mb: 2, display: 'flex', flexDirection: 'column', alignItems: 'center', \r\n                      boxShadow: '0 4px 20px rgba(0,0,0,0.1)', \r\n                      borderRadius: '12px',\r\n                      background: 'linear-gradient(to bottom, #ffffff, #f8f9fa)' }}>\r\n            <CardContent sx={{ width: '100%' }}>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n                <Box sx={{ \r\n                  width: '6px', \r\n                  height: '28px', \r\n                  backgroundColor: '#1976d2', \r\n                  borderRadius: '3px',\r\n                  mr: 2,\r\n                  boxShadow: '0 2px 4px rgba(25,118,210,0.3)'\r\n                }}/>\r\n                <Box>\r\n                  <Typography variant=\"h6\" fontWeight=\"bold\">Top 5 Reasons</Typography>\r\n                  <Typography variant=\"caption\" color=\"text.secondary\">Distribution of risk categories across transactions</Typography>\r\n                </Box>\r\n              </Box>\r\n              \r\n              <Box sx={{ \r\n                width: '100%', \r\n                height: 320, \r\n                display: 'flex', \r\n                position: 'relative',\r\n                justifyContent: 'center', \r\n                alignItems: 'center'\r\n              }}>\r\n                <ResponsiveContainer width=\"100%\" height={300}>\r\n                  <PieChart>\r\n                    <Pie\r\n                      data={top5Reasons.map(reason => ({\r\n                        ...reason,\r\n                        // Add priority score based on occurrence frequency\r\n                        priorityScore: Math.round((reason.value / totalPOs) * 100),\r\n                        // Add risk complexity based on reason name length\r\n                        complexity: reason.name.length > 15 ? 'High' : reason.name.length > 10 ? 'Medium' : 'Low'\r\n                      }))}\r\n                      dataKey=\"value\"\r\n                      nameKey=\"name\"\r\n                      cx=\"50%\"\r\n                      cy=\"50%\"\r\n                      innerRadius={70}\r\n                      outerRadius={110}\r\n                      paddingAngle={2}\r\n                      label={({ value }) => value}\r\n                      labelLine={true}\r\n                    >\r\n                      {top5Reasons.map((entry, index) => (\r\n                        <Cell \r\n                          key={`cell-${index}`} \r\n                          fill={COLORS[index % COLORS.length]} \r\n                          stroke=\"#ffffff\"\r\n                          strokeWidth={2}\r\n                        />\r\n                      ))}\r\n                    </Pie>\r\n                    <Tooltip \r\n                      formatter={(value, name, props) => {\r\n                        const { priorityScore, complexity } = props.payload;\r\n                        return [\r\n                          <div>\r\n                            <div style={{fontWeight: 'bold'}}>{value} occurrences</div>\r\n                            <div>Priority score: {priorityScore}/100</div>\r\n                            <div>Complexity: {complexity}</div>\r\n                          </div>\r\n                        ]\r\n                      }}\r\n                    />\r\n                  </PieChart>\r\n                </ResponsiveContainer>\r\n                \r\n                {/* Center KPI */}\r\n                <Box sx={{ \r\n                  position: 'absolute', \r\n                  top: '50%', \r\n                  left: '50%', \r\n                  transform: 'translate(-50%, -50%)',\r\n                  textAlign: 'center',\r\n                  padding: '12px',\r\n                  borderRadius: '50%',\r\n                  width: '130px',\r\n                  height: '130px',\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  justifyContent: 'center',\r\n                  alignItems: 'center',\r\n                  backgroundColor: 'rgba(255,255,255,0.95)',\r\n                  boxShadow: '0 0 20px rgba(0,0,0,0.15)',\r\n                  border: '3px solid rgba(25,118,210,0.1)',\r\n                  zIndex: 2\r\n                }}>\r\n                  <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mb: 0 }}>TOTAL RISKS</Typography>\r\n                  <Typography variant=\"h5\" fontWeight=\"bold\" color=\"primary\" sx={{ my: 0.5 }}>\r\n                    {top5Reasons.reduce((sum, r) => sum + r.value, 0)}\r\n                  </Typography>\r\n                  <Typography variant=\"caption\" color=\"error.main\">\r\n                    Flagged Items\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n              \r\n              {/* Enhanced Legend */}\r\n              <Box sx={{ \r\n                mt: 1, \r\n                display: 'flex', \r\n                flexWrap: 'wrap', \r\n                justifyContent: 'center',\r\n                padding: '12px',\r\n                backgroundColor: 'rgba(0,0,0,0.02)',\r\n                borderRadius: '8px'\r\n              }}>\r\n                {top5Reasons.map((entry, index) => {\r\n                  const priorityScore = Math.round((entry.value / totalPOs) * 100);\r\n                  const complexity = entry.name.length > 15 ? 'High' : entry.name.length > 10 ? 'Medium' : 'Low';\r\n                  return (\r\n                    <Box key={entry.name} sx={{ \r\n                      display: 'flex', \r\n                      flexDirection: 'column',\r\n                      alignItems: 'flex-start', \r\n                      mr: 3, \r\n                      mb: 1,\r\n                      minWidth: '120px'\r\n                    }}>\r\n                      <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                        <Box sx={{ \r\n                          width: 12, \r\n                          height: 12, \r\n                          bgcolor: COLORS[index % COLORS.length], \r\n                          borderRadius: '50%', \r\n                          mr: 1,\r\n                          boxShadow: `0 0 5px ${COLORS[index % COLORS.length]}80`\r\n                        }} />\r\n                        <Typography variant=\"body2\" fontWeight=\"bold\">{entry.name}</Typography>\r\n                      </Box>\r\n                      <Typography variant=\"caption\" sx={{ ml: 3 }}>\r\n                        <Box component=\"span\" fontWeight=\"bold\">{entry.value}</Box> occurrences\r\n                      </Typography>\r\n                      <Typography variant=\"caption\" sx={{ ml: 3 }}>\r\n                        Priority: {priorityScore > 75 ? 'High' : priorityScore > 50 ? 'Medium' : 'Low'}\r\n                      </Typography>\r\n                    </Box>\r\n                  );\r\n                })}\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        {/* Enhanced Bar Chart for Risk Frequency */}\r\n        <Grid item xs={12} md={6}>\r\n          <Card sx={{ \r\n            mb: 2,\r\n            boxShadow: '0 4px 20px rgba(0,0,0,0.1)', \r\n            borderRadius: '12px',\r\n            background: 'linear-gradient(to bottom, #ffffff, #f8f9fa)'\r\n          }}>\r\n            <CardContent>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n                <Box sx={{ \r\n                  width: '6px', \r\n                  height: '28px', \r\n                  backgroundColor: '#e53935', \r\n                  borderRadius: '3px',\r\n                  mr: 2,\r\n                  boxShadow: '0 2px 4px rgba(229,57,53,0.3)'\r\n                }}/>\r\n                <Box>\r\n                  <Typography variant=\"h6\" fontWeight=\"bold\">Reason Frequency (Bar)</Typography>\r\n                  <Typography variant=\"caption\" color=\"text.secondary\">Risk categories prioritized by occurrence</Typography>\r\n                </Box>\r\n              </Box>\r\n              \r\n              {/* Create enhanced data with risk metrics */}\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <BarChart \r\n                  data={reasonDist\r\n                    .slice()\r\n                    .sort((a, b) => b.value - a.value)\r\n                    .map(reason => ({\r\n                      ...reason,\r\n                      frequency: reason.value,\r\n                      percentage: Math.round((reason.value / totalPOs) * 100),\r\n                      priorityLevel: reason.value > totalPOs * 0.5 ? 'High' : \r\n                                     reason.value > totalPOs * 0.2 ? 'Medium' : 'Low'\r\n                    }))}\r\n                  layout=\"vertical\" \r\n                  margin={{ left: 150, right: 40, top: 20, bottom: 20 }}\r\n                >\r\n                  <XAxis \r\n                    type=\"number\" \r\n                    allowDecimals={false} \r\n                    tick={{ fontWeight: 'bold', fill: '#555' }}\r\n                    label={{ \r\n                      value: 'Number of Occurrences', \r\n                      position: 'insideBottom',\r\n                      offset: -10,\r\n                      fill: '#555'\r\n                    }}\r\n                  />\r\n                  <YAxis \r\n                    dataKey=\"name\" \r\n                    type=\"category\" \r\n                    tick={{ fontWeight: 'bold', fill: '#555', fontSize: 13 }} \r\n                    width={150}\r\n                  />\r\n                  <Bar \r\n                    dataKey=\"value\" \r\n                    name=\"Occurrences\"\r\n                    barSize={24} \r\n                    radius={[0, 4, 4, 0]}\r\n                    label={{ \r\n                      position: 'right',\r\n                      formatter: (value) => value, \r\n                      fill: '#333',\r\n                      fontSize: 12\r\n                    }}\r\n                  >\r\n                    {reasonDist.map((entry, index) => {\r\n                      // Color based on priority - higher values are more vibrant\r\n                      let baseColor;\r\n                      if (entry.value > totalPOs * 0.5) {\r\n                        baseColor = '#e53935'; // Red for high priority\r\n                      } else if (entry.value > totalPOs * 0.2) {\r\n                        baseColor = '#ff9800'; // Orange for medium priority  \r\n                      } else {\r\n                        baseColor = '#4caf50'; // Green for low priority\r\n                      }\r\n                      return (\r\n                        <Cell \r\n                          key={`cell-${index}`} \r\n                          fill={baseColor} \r\n                          stroke=\"#ffffff\"\r\n                          strokeWidth={1}\r\n                        />\r\n                      );\r\n                    })}\r\n                  </Bar>\r\n                  <Tooltip\r\n                    formatter={(value) => [`${value}`, 'Occurrences']}\r\n                    labelFormatter={(value) => `Category: ${value}`}\r\n                    cursor={{fill: 'rgba(0,0,0,0.1)'}}\r\n                    content={(props) => {\r\n                      if (!props.active || !props.payload || !props.payload[0]) return null;\r\n                      const data = props.payload[0].payload;\r\n                      return (\r\n                        <Box sx={{\r\n                          bgcolor: '#fff',\r\n                          p: 1.5,\r\n                          border: '1px solid #ccc',\r\n                          borderRadius: '4px',\r\n                          boxShadow: '0 2px 5px rgba(0,0,0,0.15)'\r\n                        }}>\r\n                          <Typography variant=\"subtitle2\" sx={{ borderBottom: '1px solid #eee', pb: 0.5, mb: 1 }}>\r\n                            {data.name}\r\n                          </Typography>\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            <Box component=\"span\" fontWeight=\"bold\">Occurrences:</Box> {data.value}\r\n                          </Typography>\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            <Box component=\"span\" fontWeight=\"bold\">Percentage:</Box> {data.percentage}% of total\r\n                          </Typography>\r\n                          <Typography variant=\"body2\" sx={{ \r\n                            color: data.priorityLevel === 'High' ? 'error.main' : \r\n                                   data.priorityLevel === 'Medium' ? 'warning.main' : 'success.main'\r\n                          }}>\r\n                            <Box component=\"span\" fontWeight=\"bold\">Priority:</Box> {data.priorityLevel}\r\n                          </Typography>\r\n                          <Typography variant=\"body2\" sx={{ mt: 0.5, fontSize: '0.75rem', color: 'text.disabled' }}>\r\n                            Click for detailed information\r\n                          </Typography>\r\n                        </Box>\r\n                      );\r\n                    }}\r\n                  />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n              \r\n              {/* Risk summary footer */}\r\n              <Box sx={{ \r\n                mt: 2,\r\n                p: 1.5,\r\n                borderRadius: '8px',\r\n                backgroundColor: 'rgba(25,118,210,0.05)',\r\n                border: '1px solid rgba(25,118,210,0.2)',\r\n              }}>\r\n                <Typography variant=\"subtitle2\" color=\"primary.main\">\r\n                  Total Risk Flags: {reasonDist.reduce((sum, reason) => sum + reason.value, 0)}\r\n                </Typography>\r\n                <Typography variant=\"caption\" color=\"text.secondary\">\r\n                  Across {reasonDist.length} distinct risk categories • {totalPOs} flagged purchase orders\r\n                </Typography>\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        {/* PO-wise Table - Enhanced */}\r\n        <Grid item xs={12}>\r\n          <Card sx={{ \r\n            boxShadow: '0 4px 15px rgba(0,0,0,0.08)', \r\n            borderRadius: '12px',\r\n            overflow: 'hidden'\r\n          }}>\r\n            <CardContent sx={{ pb: 1 }}>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n                <Box sx={{ \r\n                  width: '5px', \r\n                  height: '24px', \r\n                  backgroundColor: '#1976d2', \r\n                  borderRadius: '3px',\r\n                  mr: 2\r\n                }}/>\r\n                <Typography variant=\"h6\" fontWeight=\"bold\">PO-wise Reasons & Comments</Typography>\r\n              </Box>\r\n              <TableContainer sx={{ \r\n                maxHeight: 350,\r\n                \"&::-webkit-scrollbar\": {\r\n                  width: 8,\r\n                  height: 8,\r\n                },\r\n                \"&::-webkit-scrollbar-track\": {\r\n                  backgroundColor: \"#f1f1f1\",\r\n                  borderRadius: 4,\r\n                },\r\n                \"&::-webkit-scrollbar-thumb\": {\r\n                  backgroundColor: \"#c1c1c1\",\r\n                  borderRadius: 4,\r\n                },\r\n              }}>\r\n                <Table stickyHeader>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell \r\n                        sx={{ \r\n                          fontWeight: 'bold', \r\n                          backgroundColor: 'rgba(25,118,210,0.05)', \r\n                          width: '15%' \r\n                        }}\r\n                      >\r\n                        PO ID\r\n                      </TableCell>\r\n                      <TableCell \r\n                        sx={{ \r\n                          fontWeight: 'bold', \r\n                          backgroundColor: 'rgba(25,118,210,0.05)',\r\n                          width: '25%'\r\n                        }}\r\n                      >\r\n                        Reason\r\n                      </TableCell>\r\n                      <TableCell \r\n                        sx={{ \r\n                          fontWeight: 'bold', \r\n                          backgroundColor: 'rgba(25,118,210,0.05)',\r\n                          width: '60%'\r\n                        }}\r\n                      >\r\n                        Comments\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {filteredComments.length > 0 ? (\r\n                      filteredComments.map((row, idx) => (\r\n                        <TableRow \r\n                          key={idx} \r\n                          sx={{ \r\n                            '&:nth-of-type(odd)': { backgroundColor: 'rgba(0,0,0,0.02)' },\r\n                            '&:hover': { backgroundColor: 'rgba(25,118,210,0.04)' }\r\n                          }}\r\n                        >\r\n                          <TableCell sx={{ borderBottom: '1px solid rgba(224, 224, 224, 0.5)' }}>\r\n                            {row.PO_ID}\r\n                          </TableCell>\r\n                          <TableCell \r\n                            sx={{ \r\n                              borderBottom: '1px solid rgba(224, 224, 224, 0.5)',\r\n                              color: row.reason.includes('Missing') ? 'error.main' : \r\n                                    row.reason.includes('price') ? 'warning.main' : \r\n                                    'text.primary'\r\n                            }}\r\n                          >\r\n                            {row.reason}\r\n                          </TableCell>\r\n                          <TableCell sx={{ borderBottom: '1px solid rgba(224, 224, 224, 0.5)' }}>\r\n                            {row.comments}\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      ))\r\n                    ) : (\r\n                      <TableRow>\r\n                        <TableCell colSpan={3} align=\"center\" sx={{ py: 3 }}>\r\n                          <Typography color=\"text.secondary\">No records found matching your filters</Typography>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    )}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              <Box sx={{ \r\n                mt: 2, \r\n                display: 'flex', \r\n                justifyContent: 'flex-end',\r\n                color: 'text.secondary',\r\n                fontSize: '0.75rem'\r\n              }}>\r\n                Showing {filteredComments.length} of {commentsData.length} records\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default TaggingKPIs;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}